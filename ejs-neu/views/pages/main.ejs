<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="styleSheet" type="text/css" href="css/style.css" />
    <% include ../partials/head %>
	
	<script type="text/javascript">
	
		function onCreateGadget(){
		$("#createModal").modal("show");
		}
		var count = 0;
		
		function onGadgetEntry(){
			var value = $("#createModal input#gadgetName").val();
			var ip = $("#createModal input#ip").val();
			var port = $("#createModal input#port").val();
			
			$("#createModal").modal("hide");
			createGadgetEntry(value, ip, port);
			clearInput();
			
			
		}
		function createGadgetEntry(name, ip, port){
			var panel = '<div class="panel panel-primary"><div class="panel-heading"><h2 class="panel-title">'+name +'</h2></div><div class="panel-body"><b><p>IP-Adresse: </b>'+ip+'</p><P><b>Port: </b>'+port+'</p></div><div class="panel-footer clearfix"><button class="btn btn-xs btn-default pull-right"><span class="glyphicon glyphicon-remove"></div></div>';
			
			if(count % 2 == 0){
				$("#col1").prepend(panel);
				count++;
			}
			else{
				$("#col2").prepend(panel);
				count++;
			}
			
		}
		
		// clears the user input. Placeholder (like "Benutzername") is shown in each input field.
		function clearInput(){
			$("#createModal input#gadgetName").val('');
			$("#createModal input#ip").val('');
			$("#createModal input#port").val('');
			
			$("#createModal input").first().focus();
		}
		
		// function which is executed, when the create Model is closed
		function closeGadgetEntry(){
			$("#createModal").modal("hide");
			clearInput();
		}
		
		
		
	</script>
</head>
<body >

	<header>
		<% include ../partials/header %>
	</header>
		<div class="container">
		<div class="row">
			<div class="col-sm-2"></div>
			<div class="col-sm-8">
				<main>
				<div class="col-sm-6" id="col1">
					
				</div>
				<div class="col-sm-6" id="col2">
					
				</div>	
				</main>			
				<!-- Include Modal create. It is activated by clicking the '+' Button in the buttom right corner -->
				<button type="button" class="fixedbutton btn btn-primary" onclick="onCreateGadget()" id="createBtn">
					<span class="glyphicon glyphicon-plus" ></span>
				</button>
				<% include ../partials/create %>
			</div>
			<div class="col-sm-1"></div>
		</div>
		</div>
			
			<footer >
				<% include ../partials/footer %>
			</footer>
			
		
			

		</div>
		<div class="col-sm-2"></div>
	</div>	
</div>
		
		
		
    
</body>
</html>